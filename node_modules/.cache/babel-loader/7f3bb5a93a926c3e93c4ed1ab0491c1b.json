{"ast":null,"code":"import _regeneratorRuntime from\"/Users/k1/Desktop/stockholm_sky_gitpages2/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/k1/Desktop/stockholm_sky_gitpages2/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/k1/Desktop/stockholm_sky_gitpages2/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from\"react\";import YearGridSmall from\"./yearGridSmall\";import\"../css/yearPanelSmall.css\";import D3YearGrid from\"./D3YearGrid\";import{getYear}from\"../services/cloud_data_functions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function YearPanelSmall(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){// // We need to query the data asyncronously because it might take a while to receive the data.\n// let getDataFunction = async () => {\n//   return getYear(props.year);\n// };\n// // When we are done getting the data, the function inside \".then()\" is executed.\n// getDataFunction().then((values) => {\n//   // Saving the data.\n//   setData(values);\n// });\nfunction getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getYear(props.year);case 2:result=_context.sent;setData(result.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getData.apply(this,arguments);}getData();},[]);function handleDelete(){props.onDelete(props.year);}return/*#__PURE__*/_jsxs(\"div\",{className:\"yearPanelSmallDiv\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"year\",children:props.year}),/*#__PURE__*/_jsx(\"button\",{className:\"closeButton\",onClick:handleDelete,children:\"x\"})]}),/*#__PURE__*/_jsx(\"div\",{children:data.length>0?/*#__PURE__*/_jsx(D3YearGrid,{data:data,year:props.year}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})})]});}export default YearPanelSmall;","map":null,"metadata":{},"sourceType":"module"}