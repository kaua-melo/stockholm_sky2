{"ast":null,"code":"import _slicedToArray from\"/Users/k1/Desktop/stockholm_sky_gitpages2/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import ADaySkyPhotoSmall from\"./aDaySkyPhotoSmall\";import\"../css/yearGridSmall.css\";import{getYear}from\"../services/cloud_data_functions\";import{jsx as _jsx}from\"react/jsx-runtime\";function YearGridSmall(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),yearsDataFormatted=_useState2[0],setYearsDataFormatted=_useState2[1];useEffect(function(){// This function is executed every time the component is rendered.\n// So it's the same as calling both:\n// componentDidMount -> the first time the component is mounted.\n// componentDidUpdate -> when receives new props or the state changes.\n// Getting the years data.\nvar yearsDataRaw=getYear(props.year);// This is the array in which we'll temporarily store the\n//  data of the year, formatted in a clean way so we can\n//  pass to the 'aDaySkyPhotoSmall' hook.\nvar yearsDataFormatted_temp=[];// Looping through each month\nyearsDataRaw.months.map(function(m){// Looping the days of the month\nm.days.map(function(d){// console.log(d);\nyearsDataFormatted_temp.push({month:m.month,day:d.day,c_index:d.c_index});});});setYearsDataFormatted(yearsDataFormatted_temp);},[]);// this array that is passed as the second parameter of the useEffect function indicates which variables are the triggers to call useEffect. If these variables change, the useEffect will be called. If we don't have this array, the function will be called on any props/state change.\nfunction printYearsDataRaw(){console.log(yearsDataFormatted);}return/*#__PURE__*/_jsx(\"div\",{className:\"yearGridSmall\",children:yearsDataFormatted!=null?yearsDataFormatted.map(function(data_day,index){return/*#__PURE__*/_jsx(ADaySkyPhotoSmall,{year:props.year,cloudData:data_day},index);}):/*#__PURE__*/_jsx(\"h1\",{children:\"loading\"})});}export default YearGridSmall;","map":{"version":3,"sources":["/Users/k1/Desktop/stockholm_sky_gitpages2/app/src/hooks/yearGridSmall.jsx"],"names":["React","useState","useEffect","ADaySkyPhotoSmall","getYear","YearGridSmall","props","yearsDataFormatted","setYearsDataFormatted","yearsDataRaw","year","yearsDataFormatted_temp","months","map","m","days","d","push","month","day","c_index","printYearsDataRaw","console","log","data_day","index"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,MAAO,0BAAP,CAEA,OAASC,OAAT,KAAwB,kCAAxB,C,2CAEA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAC5B,cAAoDL,QAAQ,CAAC,IAAD,CAA5D,wCAAOM,kBAAP,eAA2BC,qBAA3B,eAEAN,SAAS,CAAC,UAAM,CACd;AACA;AACA;AACA;AAEA;AACA,GAAMO,CAAAA,YAAY,CAAGL,OAAO,CAACE,KAAK,CAACI,IAAP,CAA5B,CAEA;AACA;AACA;AACA,GAAIC,CAAAA,uBAAuB,CAAG,EAA9B,CAEA;AACAF,YAAY,CAACG,MAAb,CAAoBC,GAApB,CAAwB,SAACC,CAAD,CAAO,CAC7B;AACAA,CAAC,CAACC,IAAF,CAAOF,GAAP,CAAW,SAACG,CAAD,CAAO,CAChB;AACAL,uBAAuB,CAACM,IAAxB,CAA6B,CAC3BC,KAAK,CAAEJ,CAAC,CAACI,KADkB,CAE3BC,GAAG,CAAEH,CAAC,CAACG,GAFoB,CAG3BC,OAAO,CAAEJ,CAAC,CAACI,OAHgB,CAA7B,EAKD,CAPD,EAQD,CAVD,EAYAZ,qBAAqB,CAACG,uBAAD,CAArB,CACD,CA5BQ,CA4BN,EA5BM,CAAT,CA4BQ;AAER,QAASU,CAAAA,iBAAT,EAA6B,CAC3BC,OAAO,CAACC,GAAR,CAAYhB,kBAAZ,EACD,CAED,mBACE,YAAK,SAAS,CAAC,eAAf,UAOGA,kBAAkB,EAAI,IAAtB,CACCA,kBAAkB,CAACM,GAAnB,CAAuB,SAACW,QAAD,CAAWC,KAAX,qBACrB,KAAC,iBAAD,EAEE,IAAI,CAAEnB,KAAK,CAACI,IAFd,CAGE,SAAS,CAAEc,QAHb,EACOC,KADP,CADqB,EAAvB,CADD,cASC,+BAhBJ,EADF,CA6BD,CAED,cAAepB,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ADaySkyPhotoSmall from \"./aDaySkyPhotoSmall\";\nimport \"../css/yearGridSmall.css\";\n\nimport { getYear } from \"../services/cloud_data_functions\";\n\nfunction YearGridSmall(props) {\n  const [yearsDataFormatted, setYearsDataFormatted] = useState(null);\n\n  useEffect(() => {\n    // This function is executed every time the component is rendered.\n    // So it's the same as calling both:\n    // componentDidMount -> the first time the component is mounted.\n    // componentDidUpdate -> when receives new props or the state changes.\n\n    // Getting the years data.\n    const yearsDataRaw = getYear(props.year);\n\n    // This is the array in which we'll temporarily store the\n    //  data of the year, formatted in a clean way so we can\n    //  pass to the 'aDaySkyPhotoSmall' hook.\n    let yearsDataFormatted_temp = [];\n\n    // Looping through each month\n    yearsDataRaw.months.map((m) => {\n      // Looping the days of the month\n      m.days.map((d) => {\n        // console.log(d);\n        yearsDataFormatted_temp.push({\n          month: m.month,\n          day: d.day,\n          c_index: d.c_index,\n        });\n      });\n    });\n\n    setYearsDataFormatted(yearsDataFormatted_temp);\n  }, []); // this array that is passed as the second parameter of the useEffect function indicates which variables are the triggers to call useEffect. If these variables change, the useEffect will be called. If we don't have this array, the function will be called on any props/state change.\n\n  function printYearsDataRaw() {\n    console.log(yearsDataFormatted);\n  }\n\n  return (\n    <div className=\"yearGridSmall\">\n      {/* We are temporarily using this button just to show the data loadaded. For debugging. */}\n      {/* <button onClick={printYearsDataRaw}></button> */}\n\n      {/* It takes a while for the 'yearsDataFormatted' to be ready (we create it in the 'useEffect')  \n          So we must first need to check whether it isn't null yet before we try to display the photos, \n          otherwise the app will break */}\n      {yearsDataFormatted != null ? (\n        yearsDataFormatted.map((data_day, index) => (\n          <ADaySkyPhotoSmall\n            key={index}\n            year={props.year}\n            cloudData={data_day}\n          />\n        ))\n      ) : (\n        <h1>loading</h1>\n      )}\n\n      {/* {Array.from(Array(365).keys()).map((i) => (\n        <ADaySkyPhotoSmall\n          key={i}\n          year={props.year}\n          cloudData={yearsDataFormatted}\n        />\n      ))} */}\n    </div>\n  );\n}\n\nexport default YearGridSmall;\n"]},"metadata":{},"sourceType":"module"}